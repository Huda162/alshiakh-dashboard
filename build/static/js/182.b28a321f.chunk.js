"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[182],{96760:(e,s,t)=>{t.d(s,{S:()=>o});const o={base:"#f8f9fa",white:"#ffffff",primary1:"#832e59",primaryLight:"#d4719f",transparentPrimary:"rgba(233, 99, 78, 0.5)",primaryRed:"#e55353",primaryBlue:"#39f",grayDark:"#333333",gray:"#767676"}},42679:(e,s,t)=>{t.d(s,{u:()=>a});const{useState:o}=t(65043),a=()=>{const[e,s]=o(window.innerWidth);return window.addEventListener("resize",(function(e){s(window.innerWidth)})),{width:e}}},16505:(e,s,t)=>{t.d(s,{v:()=>l});var o=t(65043),a=t(73216),r=t(40854),n=t.n(r);const l=()=>{const[e,s]=(0,o.useState)(""),[t,r]=(0,o.useState)(""),[l,i]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1),m=(0,a.Zp)(),[g,u]=(0,o.useState)(!1),[h,p]=(0,o.useState)(!1);return{phone:e,setPhone:s,password:t,setPassword:r,loading:l,showDialog:c,setShowDialog:d,login:async()=>{const s={"Content-Type":"application/json"};try{i(!0);const o=await n().post("https://perfectadv.ps/biofresh/api/login",{phone:e,password:t},{headers:s});if(console.log(o),200===o.status){const e=o.data.access_token,s=o.data.status,{name:t,role_id:a,id:r}=o.data.id;console.log(a),sessionStorage.setItem("access_token",e),sessionStorage.setItem("name",t),sessionStorage.setItem("role_id",a),sessionStorage.setItem("id",r),sessionStorage.setItem("log_status",s),h&&(localStorage.setItem("cubra_access_token",JSON.stringify(e)),localStorage.setItem("cubra_name",JSON.stringify(t)),localStorage.setItem("cubra_role_id",JSON.stringify(a)),localStorage.setItem("cubra_id",JSON.stringify(r)),localStorage.setItem("cubra_log_status",JSON.stringify(s)),localStorage.setItem("cubra_remember_me",JSON.stringify(h))),m("/dashboard")}else console.log("Invalid login details")}catch(o){d(!0),console.error(o),i(!1)}},logout:()=>{sessionStorage.removeItem("access_token"),sessionStorage.removeItem("name"),sessionStorage.removeItem("role_id"),sessionStorage.removeItem("id"),sessionStorage.setItem("log_status",!1),localStorage.removeItem("cubra_access_token"),localStorage.removeItem("cubra_name"),localStorage.removeItem("cubra_role_id"),localStorage.removeItem("cubra_id"),localStorage.setItem("cubra_log_status",JSON.stringify(!1)),localStorage.setItem("cubra_remember_me",JSON.stringify(!1)),m("/#"),u(!1)},openSignoutDialog:()=>{u(!0)},closeSignoutDialog:()=>{u(!1)},showSignoutDialog:g,rememberMe:h,setRememberMe:p,autoLogin:async()=>{console.log("inside auto login");localStorage.getItem("cubra_phone_number");if("true"===localStorage.getItem("cubra_remember_me")){console.log("setting login info in session storage"),i(!0);const e=localStorage.getItem("cubra_name"),s=localStorage.getItem("cubra_role_id"),t=localStorage.getItem("cubra_id"),o=localStorage.getItem("cubra_log_status"),a=localStorage.getItem("cubra_access_token");sessionStorage.setItem("access_token",JSON.parse(a)),sessionStorage.setItem("name",JSON.parse(e)),sessionStorage.setItem("role_id",JSON.parse(s)),sessionStorage.setItem("id",JSON.parse(t)),sessionStorage.setItem("log_status",JSON.parse(o)),m("/dashboard"),i(!1)}}}}},77776:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var o=t(65043),a=t(93946),r=t(87363),n=t(19703),l=t(39278),i=t(35316),c=t(29347),d=t(24106),m=t(16505),g=t(96760),u=t(82806);const h=t.p+"static/media/dashboard.ffdded5a9d7d40c853d8.png";t(81156),t(31836);var p=t(42679),S=t(70579);const x=()=>{const{phone:e,setPhone:s,password:t,setPassword:x,loading:f,showDialog:b,setShowDialog:_,login:y,rememberMe:w,setRememberMe:j,autoLogin:I}=(0,m.v)();(0,o.useEffect)((()=>{I()}));const{width:N}=(0,p.u)();return(0,S.jsx)("div",{className:"bg-light w-100 h-100 min-vh-100 d-flex almarai-regular",dir:"rtl",children:(0,S.jsxs)(a.T5,{className:"d-flex align-items-center justify-content-center w-100 h-100",children:[(0,S.jsxs)(a.sK,{className:"w-100 h-100",children:[(0,S.jsx)(a.UF,{sm:N>768?6:12,className:N>768?"rounded d-flex flex-column justify-content-center align-items-center px-5":"rounded d-flex flex-column justify-content-center align-items-center h-100",style:N>768?{backgroundColor:g.S.white,boxShadow:"0px 2px 3px #c8c8c8",border:"none",height:"100vh",position:"absolute",left:"0px"}:{backgroundColor:g.S.white,boxShadow:"0px 2px 3px #c8c8c8",border:"none",height:"100vh",position:"absolute"},children:(0,S.jsxs)(a.E$,{className:N>768?"rounded w-75 m-3 d-flex flex-column justify-content-center align-items-center p-5":"rounded w-75 d-flex flex-column justify-content-center align-items-center p-3",style:{border:"none"},children:[(0,S.jsx)("img",{src:u,alt:"Logo",width:300}),(0,S.jsxs)(a.qI,{onKeyPress:e=>{"Enter"===e.key&&y()},className:"w-100",children:[(0,S.jsx)(a.sK,{className:" my-2",children:(0,S.jsx)("h1",{className:"text-center almarai-bold",children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})}),(0,S.jsx)(a.sK,{className:" my-2",sm:N<768?12:"",children:(0,S.jsx)(a.OG,{placeholder:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641",autoComplete:"username",id:"phone",value:e,onChange:e=>{s(e.target.value)}})}),(0,S.jsx)(a.sK,{className:"my-2",children:(0,S.jsx)(a.OG,{value:t,onChange:e=>{x(e.target.value)},type:"password",placeholder:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",autoComplete:"current-password"})}),(0,S.jsxs)(a.sK,{children:[(0,S.jsx)(a.UF,{md:5,className:"d-flex align-items-center",children:(0,S.jsx)(a.CK,{id:"rememberMe",label:"\u062a\u0630\u0643\u0631\u0646\u064a",reverse:!0,className:"customCheckbox",checked:w,onChange:()=>j(!w)})}),(0,S.jsx)(a.UF,{md:7,className:"d-flex justify-content-end p-0",children:(0,S.jsx)(a.Q_,{color:"white",children:"\u0647\u0644 \u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061f"})})]}),f?(0,S.jsx)(r.A,{animation:"border",role:"status",style:{margin:"10px"},children:(0,S.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,S.jsx)(a.sK,{className:" my-3",children:(0,S.jsx)(a.Q_,{style:{backgroundColor:g.S.primary1,border:"none"},onClick:()=>{y()},disabled:""===t.trim()||""===e.trim(),children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})})]})]})}),N>768&&(0,S.jsxs)(a.UF,{md:6,className:"trapezoid d-flex flex-column justify-content-center align-items-center text-white",style:{backgroundColor:g.S.primary1,boxShadow:"0px 2px 3px #c8c8c8",border:"none",padding:15,height:"100vh"},children:[(0,S.jsx)("h1",{children:"Al Shiakh Dashboard"}),(0,S.jsx)("img",{src:h,alt:"login",width:500})]})]}),(0,S.jsxs)(n.A,{open:b,onClose:()=>_(!1),children:[(0,S.jsx)(l.A,{children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 \u0623\u0648 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629. \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0627\u062e\u0631\u0649"}),(0,S.jsx)(i.A,{}),(0,S.jsx)(c.A,{children:(0,S.jsx)(d.A,{onClick:()=>_(!1),children:"\u062d\u0633\u0646\u0627\u064b"})})]})]})})}},81156:()=>{},31836:()=>{},82806:(e,s,t)=>{e.exports=t.p+"static/media/logo.cd1d8f5a97e91284f94e.png"}}]);
//# sourceMappingURL=182.b28a321f.chunk.js.map